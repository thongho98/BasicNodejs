extends ../layouts/common
block content
    h1 Product
    .d-flex.align-items-center
        form(action="/product/search", method="GET", class="ml-auto d-flex")
            input(type="text", name="q", class="form-control")
            button(class="btn btn-primary ml-2") Search
    .row
        each product in products
            .col-sm-3
                .card
                img.card-img-top(src='https://loremflickr.com/320/240', alt='Card image cap')
                .card-body
                    h5.card-title= product.name
                    p.card-text= product.description
                    a.btn.btn-primary(href='/cart/add/'+product.id) Add to Card
    
    nav(aria-label='Page navigation example')
        ul.pagination
            li.page-item
                a.page-link(href='/product?page='+ (n-1), aria-label='Previous')
                    span(aria-hidden='true') &laquo;
                    span.sr-only Previous
            - var n = 1;
            while n <= pageNumber
                li.page-item
                    a.page-link(href='/product?page='+ n)= n++
            li.page-item
                a.page-link(href='/product?page='+ (n+1), aria-label='Next')
                    span(aria-hidden='true') &raquo;
                    span.sr-only Next